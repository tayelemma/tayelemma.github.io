<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="/CS315/d14events/style.css" />
    <title>Inventory</title>
  </head>
  <body>
    <h1>Inventory</h1>
    <div>
      <p>Item Name:</p>
      <input type="text" value="" id="itemName" onfocus="this.value=''"/>
      <p>Item Category:</p>
      <input type="text" value="" id="category" onfocus="this.value=''" />
      <p>Quantity:</p>
      <input type="text" value="" id="quantity" onfocus="this.value=''"/>
      <p>Ratings:</p>
      <input type="text" value="" id="ratings" onfocus="this.value=''"/>
      <br />
      <br />
      <button  id="add" type="submit"  class="addButton" onclick="add()">Add</button>
    </div>

    <table id="items">
      <tr>
        <th>Product Name</th>
        <th>Category</th>
        <th>Quantity</th>
        <th>Ratings</th>
        <th>Edit</th>
        <th>Remove</th>
      </tr>
    </table>

    <script>

      let array = [];
      let index = 0;

      function add() {
        index++;
        let item = {
          id: index,
          name: document.getElementById("itemName").value,
          category: document.getElementById("category").value,
          quantity: document.getElementById("quantity").value,
          ratings: document.getElementById("ratings").value,

        };
        array.push(item);

        let items = document.getElementById("items");
        let tr = document.createElement("tr");
        items.append(tr);

        let nameTd = document.createElement("td");
        nameTd.innerHTML = document.getElementById("itemName").value;
        tr.append(nameTd);

        let categoryTd = document.createElement("td");
        categoryTd.innerHTML = document.getElementById("category").value;
        tr.append(categoryTd);

        let quantityTd = document.createElement("td");
        quantityTd.innerHTML = document.getElementById("quantity").value;
        tr.append(quantityTd);

        let ratingTd = document.createElement("td");
        ratingTd.innerHTML = document.getElementById("ratings").value;
        tr.append(ratingTd);

       
        let edit = document.createElement("td");
        let button = document.createElement("button");
        button.innerHTML = "Edit";
        button.setAttribute("myId", index);

        button.onclick = function () {
          let childNodes = this.parentNode.parentNode.childNodes;
          document.getElementById("itemName").value = 1;
          document.getElementById("category").value = 2;
          document.getElementById("quantity").value = 3;
          document.getElementById("ratings").value = 4;

          let myId = this.getAttribute("myId");
          array.forEach(function (item) {
            if (item.id == myId) {
              item.name = document.getElementById("itemName").value;
              item.category = document.getElementById("category").value;
              item.quantity = document.getElementById("category").value;
              item.ratings = document.getElementById("ratings").value;
            }
          });
        };

        edit.append(button);
        tr.append(edit);

        let td = document.createElement("td");
        let deleteB = document.createElement("button");
        button.setAttribute("myId", index);
        deleteB.innerHTML = "Remove";

        deleteB.onclick = function () {
          let myId = this.getAttribute("myId");
          console.log(this.getAttribute("myId"));
          array = array.filter((item) => item.id != myId);
          console.log(this.parentNode.parentNode);
          this.parentNode.parentNode.remove();
        };

        td.append(deleteB);
        tr.append(td);
      }
    </script>
    <br>
    <div>
      <a
        href="https://validator.w3.org/check/referer"
        style="background-color: transparent"
      >
        <img
          style="border-style: none"
          width="88"
          height="25"
          src="http://www.w3.org/Icons/valid-xhtml10"
          alt="Valid XHTML 1.0 Strict"
      /></a>
      &nbsp;&nbsp;
      <a
        href="https://jigsaw.w3.org/css-validator/validator/==https://tayelemma.github.io/CS315/d13DOM/inputValue.html"
        style="background-color: transparent"
      >
        <img
          style="border-style: none"
          width="88"
          height="25"
          src="http://jigsaw.w3.org/css-validator/images/vcss"
          alt="Valid CSS!"
      /></a>
    </div>

    <pre>
  <button><a href="/index2.html">Back</a></button>
</pre>
  </body>
</html>
